<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-IOTA-Research-Specifications docs-doc-id-6.3 Fast Probabilistic Consensus">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">6.3 Fast Probabilistic Consensus | IOTA Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wiki.iota.org/IOTA-2.0-Research-Specifications/6.3FastProbabilisticConsensus"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-IOTA-Research-Specifications-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-IOTA-Research-Specifications-current"><meta data-rh="true" property="og:title" content="6.3 Fast Probabilistic Consensus | IOTA Wiki"><meta data-rh="true" name="description" content="Fast Probabilistic Consensus (FPC) checks if certain transactions are eligible when a double spend is detected."><meta data-rh="true" property="og:description" content="Fast Probabilistic Consensus (FPC) checks if certain transactions are eligible when a double spend is detected."><meta data-rh="true" name="keywords" content="opinion,fast probabilistic consensus,fcob,initial opinion,random,threshold,active consensus mana,received opinion"><meta data-rh="true" property="og:image" content="https://wiki.iota.org/img/logo/Coordicide_Logo_Black.png"><meta data-rh="true" name="twitter:image" content="https://wiki.iota.org/img/logo/Coordicide_Logo_Black.png"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wiki.iota.org/IOTA-2.0-Research-Specifications/6.3FastProbabilisticConsensus"><link data-rh="true" rel="alternate" href="https://wiki.iota.org/IOTA-2.0-Research-Specifications/6.3FastProbabilisticConsensus" hreflang="en"><link data-rh="true" rel="alternate" href="https://wiki.iota.org/IOTA-2.0-Research-Specifications/6.3FastProbabilisticConsensus" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YTLE56KAO4-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="IOTA Wiki" href="/opensearch.xml">







































<link rel="preconnect" href="https://matomo.iota-community.org/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://matomo.iota-community.org/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","13"]);var t=document,e=t.createElement("script"),p=t.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src=a+"matomo.js",p.parentNode.insertBefore(e,p)}()</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c0cf84a3.css">
<link rel="preload" href="/assets/js/runtime~main.000c6006.js" as="script">
<link rel="preload" href="/assets/js/main.111cab16.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#5991c7;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you would like to get more involved in the future governance of Shimmer, IOTA, and the Assembly network, join the discussions with the community in our <a target="_blank" href="https://govern.iota.org">governance forum</a> üèõÔ∏è</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="IOTA Wiki Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_dark.svg" alt="IOTA Wiki Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/use/wallets/what-is-a-wallet">Use IOTA</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/learn/about-iota/an-introduction-to-iota">Learn</a><a class="navbar__item navbar__link" href="/develop/welcome">Develop</a><a class="navbar__item navbar__link" href="/community/the-community/discord">Community</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable network-dropdown dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">IOTA</a><ul class="dropdown__menu"><li><a class="dropdown__link network-dropdown__link" href="/shimmer/IOTA-2.0-Research-Specifications/6.3FastProbabilisticConsensus" data-reactroot=""><svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" class="network-dropdown__icon"><path d="M34.55 14.045a12.973 12.973 0 0 0-18.576-.255c-5.2 5.152-5.311 13.62-.25 18.912l3.327-3.297c-3.265-3.434-3.186-8.911.18-12.246a8.352 8.352 0 0 1 2.77-1.838 8.433 8.433 0 0 1 6.537.079 8.343 8.343 0 0 1 2.723 1.904l3.29-3.259Zm-22.1 21.91a12.973 12.973 0 0 0 18.576.255c5.2-5.152 5.311-13.62.25-18.912l-3.327 3.297c3.264 3.433 3.186 8.911-.18 12.246a8.351 8.351 0 0 1-2.77 1.838 8.435 8.435 0 0 1-6.538-.079 8.345 8.345 0 0 1-2.723-1.904l-3.288 3.259Z" class="icon-color-primary"></path></svg>Shimmer</a></li><li><a class="dropdown__link network-dropdown__link" href="/next/IOTA-2.0-Research-Specifications/6.3FastProbabilisticConsensus" data-reactroot=""><svg viewBox="0 0 84 84" fill="none" xmlns="http://www.w3.org/2000/svg" class="network-dropdown__icon"><path d="M66.789 58.65c1.305 1.917 1.555 3.56.751 4.927-.803 1.368-2.44 2.052-4.91 2.052H22.37c-2.47 0-4.107-.684-4.91-2.052-.804-1.368-.554-3.01.751-4.927L35.79 33.028V20.136h-2.237c-.605 0-1.13-.205-1.572-.614-.443-.41-.664-.894-.664-1.454 0-.56.22-1.045.664-1.454.442-.41.966-.614 1.572-.614h17.894c.605 0 1.13.204 1.572.614.443.409.664.894.664 1.454 0 .56-.22 1.044-.664 1.454a2.237 2.237 0 0 1-1.572.614H49.21v12.892L66.789 58.65ZM39.564 35.225l-9.506 13.86h24.884l-9.506-13.86-.7-1.002V20.136h-4.473v14.087l-.699 1.002Z"></path></svg>Next</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="IOTA Wiki Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_dark.svg" alt="IOTA Wiki Logo" class="themedImage_ToTc themedImage--dark_i4oU"></a><nav class="menu thin-scrollbar menu_Y1UP menuWithAnnouncementBar_fPny"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/Preface">Preface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/1.1Introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/2.2MessageLayout">2.2 Message Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/2.3StandardPayloadsLayout">2.3 Standard Payloads Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/2.4DataFlow">2.4 Data Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/3.3PeerDiscovery">3.3 Peer Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/3.4NeighborSelection">3.4 Neighbor Selection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/3.5ManualPeering">3.5 Manual Peering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.1TheTangle">4.1 The Tangle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.2Timestamps">4.2 Timestamps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.3TipSelectionAlgorithm">4.3 Tip Selection Algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.4Solidification">4.4 Solidification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.5RateControl">4.5 Rate Control Through Adaptive Proof of Work</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.6CongestionControl">4.6 Congestion Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.7Markers">4.7 Markers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/5.1UTXO">5.1 UTXO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/5.2LedgerState">5.2 Ledger State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/5.3Mana">5.3 Mana</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.1ObjectsOfConsensus">6.1 Objects of Consensus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.2OpinionSetting">6.2 Opinion Setting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/IOTA-2.0-Research-Specifications/6.3FastProbabilisticConsensus">6.3 Fast Probabilistic Consensus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.4Finalization">6.4 Approval Weight and Finality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.5dRNG">6.5 Distributed Random Number Generator</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">6.3 Fast Probabilistic Consensus</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>6.3 Fast Probabilistic Consensus</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="631-introduction">6.3.1 Introduction<a class="hash-link" href="#631-introduction" title="Direct link to heading">‚Äã</a></h2><p>The functionality defined in this part of the specification allows nodes to find consensus on whether a given object is elgible or not. This protocol, called Fast Probabilistic Consensus (FPC), is triggered if the eligibility of an object is uncertain. These objects can be messages or transactions. Please refer to <a href="/IOTA-2.0-Research-Specifications/6.1ObjectsofConsensus">Section 6.1 - Object of Consensus</a> for details on the object of consensus and to <a href="/IOTA-2.0-Research-Specifications/6.2OpinionSetting">Section 6.2 - Opinion Setting</a> for more details how initial opinions on the objects are formed.</p><p>Once FPC is triggered every node must establish an initial opinion on the eligibility of the object, as described in Section 6.1. The node must then start to query other nodes about their opinions on the given object and must update its opinion according to the rules specified in this section. </p><p>This procedure shall terminate locally if a node has not changed its opinion over a specified period of time or if some maximal amount of rounds is reached. </p><p>Unlike other voting-based consensus protocols, FPC uses a sequence of global random thresholds. This randomness makes FPC robust even in Byzantine environments. We refer to <a href="https://arxiv.org/abs/1905.10895" target="_blank" rel="noopener noreferrer">FPC-BI: Fast Probabilistic Consensus within Byzantine Infrastructures</a>, <a href="https://arxiv.org/abs/1911.08787" target="_blank" rel="noopener noreferrer">Robustness and efficiency of leaderless probabilistic consensus protocols within Byzantine infrastructures</a>, and <a href="https://link.springer.com/chapter/10.1007/978-3-030-63089-8_24" target="_blank" rel="noopener noreferrer">Fast Probabilistic Consensus with Weighted Votes</a> for more details on FPC.</p><p>The Fast Probabilistic Consensus Protocol specification depends on the following specifications:</p><ul><li><a href="/IOTA-2.0-Research-Specifications/2.3StandardPayloadsLayout">2.3 - Standard Payloads Layout</a> </li><li><a href="/IOTA-2.0-Research-Specifications/5.3Mana">5.3 -  Mana</a></li><li><a href="/IOTA-2.0-Research-Specifications/6.1ObjectsofConsensus">6.1 - Object of Consensus</a></li><li><a href="/IOTA-2.0-Research-Specifications/6.2OpinionSetting">6.2 - Opinion Setting</a></li><li><a href="/IOTA-2.0-Research-Specifications/6.5dRNG">6.5 - dRNG</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="632-fpc-protocol">6.3.2 FPC Protocol<a class="hash-link" href="#632-fpc-protocol" title="Direct link to heading">‚Äã</a></h2><p>The FPC protocol attempts to determine consensus on the eligibility of an object <code>objectID</code>. Every node has an initial opinion <code>opinion</code> on this object. These opinions are updated in rounds until the protocol terminates using a local stopping rule. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6321-fpc-parameters">6.3.2.1 FPC Parameters<a class="hash-link" href="#6321-fpc-parameters" title="Direct link to heading">‚Äã</a></h3><p>Table 6.3.1 gives a list of all parameters required for FPC.</p><p><strong>Table 6.3.1:</strong> Parameters Required for FPC.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>TOTAL_ROUNDS_FINALIZATION</code></td><td>integer</td><td>Number of consecutive rounds before FPC auto-terminates</td></tr><tr><td><code>TOTAL_ROUNDS_ENDING_THRESHOLD</code></td><td>integer</td><td>Number of consecutive rounds with non-random threshold</td></tr><tr><td><code>FIRST_ROUND_THRESHOLD</code></td><td>double</td><td>Threshold of the proportion of opinions in the first round</td></tr><tr><td><code>SUBSEQUENT_LOWER_THRESHOLD</code></td><td>double</td><td>Lower random threshold bound in subsequent rounds</td></tr><tr><td><code>SUBSEQUENT_UPPER_THRESHOLD</code></td><td>double</td><td>Upper random threshold bound in subsequent rounds</td></tr><tr><td><code>ENDING_THRESHOLD</code></td><td>double</td><td>Threshold for termination phase</td></tr><tr><td><code>DRNG_WAITING_TIME</code></td><td>duration</td><td>Maximal waiting time (in seconds) to receive dRNG number</td></tr><tr><td><code>MAX_ROUND</code></td><td>integer</td><td>Maximum number of rounds before querying stops</td></tr><tr><td><code>QUERY_SIZE</code></td><td>integer</td><td>Quorum size, number of nodes that are queried</td></tr><tr><td><code>ROUND_LENGTH</code></td><td>double</td><td>Duration (in seconds) of a round</td></tr><tr><td><code>TIME_OUT</code></td><td>duration</td><td>Maximal waiting time (in seconds) to receive answers for FPC queries</td></tr><tr><td><code>MIN_MANA_PROPORTION</code></td><td>double</td><td>Minimal amount of mana of received answers that allow to update opinion. If this amount is not reached the current round is not counted.</td></tr><tr><td><code>MAX_SAMPLE_SIZE</code></td><td>integer</td><td>Maximal size of sample.</td></tr></tbody></table><p>The proposed values of the parameters are (Table 6.3.2):</p><p><strong>Table 6.3.2:</strong> FPC Parameter Default Values.</p><table><thead><tr><th>Parameter</th><th align="center">Value</th></tr></thead><tbody><tr><td><code>TOTAL_ROUNDS_FINALIZATION</code></td><td align="center">10</td></tr><tr><td><code>TOTAL_ROUNDS_ENDING_THRESHOLD</code></td><td align="center">3</td></tr><tr><td><code>FIRST_ROUND_THRESHOLD</code></td><td align="center">0.67</td></tr><tr><td><code>SUBSEQUENT_LOWER_THRESHOLD</code></td><td align="center">0.50</td></tr><tr><td><code>SUBSEQUENT_UPPER_THRESHOLD</code></td><td align="center">0.67</td></tr><tr><td><code>ENDING_THRESHOLD</code></td><td align="center">0.50</td></tr><tr><td><code>DRNG_WAITING_TIME</code></td><td align="center">0.20</td></tr><tr><td><code>MAX_ROUND</code></td><td align="center">100</td></tr><tr><td><code> QUERY_SIZE</code></td><td align="center">21</td></tr><tr><td><code>ROUND_LENGTH</code></td><td align="center">10</td></tr><tr><td><code>TIME_OUT</code></td><td align="center">6.5</td></tr><tr><td><code>MIN_MANA_PROPORTION</code></td><td align="center">0.50</td></tr><tr><td><code>MAX_SAMPLE_SIZE</code></td><td align="center">100</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6322-local-variables">6.3.2.2 Local Variables<a class="hash-link" href="#6322-local-variables" title="Direct link to heading">‚Äã</a></h3><p>Local variables are those which may be defined at the application developer&#x27;s discretion and do not form a mandatory part of the protocol. They are included here to assist in understanding the protocol defined in this section. The kind of information described for these variables must be handled by the node application in some form.</p><p>Every node shall keep the following variables (Table 6.3.3):</p><p><strong>Table 6.3.3:</strong> Required Node Variables.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>nodeList</code></td><td>list of nodeIDs</td><td>List of known nodes</td></tr><tr><td><code>consensusManaList</code></td><td>list of nodeIDs</td><td>List of active consensus mana of known nodes</td></tr><tr><td><code>ownMana</code></td><td>double</td><td>Active consensus mana of <code>ownNode</code></td></tr><tr><td><code>rn</code></td><td>double</td><td>Random number provided by dRNG module</td></tr><tr><td><code>rnCycle</code></td><td>double</td><td>Random number instance</td></tr><tr><td><code>queryList</code></td><td>list of nodeIDs</td><td>List of nodes to query</td></tr><tr><td><code>queryMax</code></td><td>integer</td><td>Maximal number of queries per round</td></tr><tr><td><code>opinionQuery</code></td><td>list of Opinions</td><td>List of opinions of nodes in <code>queryList</code>, non-replies are encoded with <code>NA</code></td></tr><tr><td><code>objectIDs</code></td><td>list of objectIDs</td><td>List of objectIDs that are under vote</td></tr></tbody></table><p>Note that <code>consensusManaList</code> is a list of active consensus Mana of all known nodes. As this Mana changes over time this list has to be updated over time. Such an update is expressed with the function <code>GetActiveConsensusMana(time)</code> that returns the list of active consensus Mana at time <code>time</code>.</p><p>For each <code>objectID</code> that is under vote a node shall keep the following variables (Table 6.3.4):</p><p><strong>Table 6.3.4:</strong> Variables Required for objectID Under Vote.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>opinion</code></td><td>nulled boolean</td><td>Opinion of the eligibility the <code>objectID</code>; <code>TRUE</code> corresponds to <code>LIKE</code> and <code>FALSE</code> to <code>DISLIKE</code></td></tr><tr><td><code>cnt</code></td><td>integer</td><td>Counter of the number of consecutive rounds with unchanged opinion</td></tr><tr><td><code>queryStatus</code></td><td>boolean</td><td>Status if actively querying</td></tr><tr><td><code>answerStatus</code></td><td>boolean</td><td><code>TRUE</code> if answering queries, otherwise <code>FALSE</code></td></tr><tr><td><code>round</code></td><td>integer</td><td>Counter for the number of rounds in FPC</td></tr><tr><td><code>reachedMaxRound</code></td><td>boolean</td><td>Indicator whether protocol reached <code>MAX_ROUND</code> before auto-termination, default value <code>FALSE</code></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6323-fpc-protocol-description">6.3.2.3 FPC Protocol Description<a class="hash-link" href="#6323-fpc-protocol-description" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fpc-protocol-operation-for-one-object-id">FPC Protocol Operation for One Object ID<a class="hash-link" href="#fpc-protocol-operation-for-one-object-id" title="Direct link to heading">‚Äã</a></h4><p>This section describes how FPC works for one <code>objectID</code>. Once FPC is triggered on the eligibility of the object <code>objectID</code> a node establishes an initial opinion <code>opinion</code> on <code>objectID</code>, see <a href="/IOTA-2.0-Research-Specifications/6.2OpinionSetting">Section 6.2 Opinion Setting</a>. In particular, the variables <code>queryStatus</code> and <code>answerStatus</code> must be affected using the functions  <code>QueryStatus</code> and <code>AnswerStatus</code>.
The exchange and update of opinions must be done in rounds of length <code>ROUND_LENGTH</code>. Rounds end and start at times (in seconds) that are multiple of <code>ROUND_LENGTH</code>. </p><ol><li>At the beginning of each round a node must select a random sample of the other nodes and either send a query request or check if the sampled nodes published their opinions on the Tangle. </li><li>After <code>TIME_OUT</code> the node must calculate the proportion of the <code>LIKE</code>s in the received opinions. </li><li>At the end of the round it must set a threshold to confirm or modify its own opinion. In the first round this threshold is <code>FIRST_ROUND_THRESHOLD</code> while in the subsequent rounds a node must retrieve a random threshold from the dRNG. If the random threshold from the dRNG is not available a node must use
(<code>SUBSEQUENT_LOWER_THRESHOLD</code>+ <code>SUBSEQUENT_UPPER_THRESHOLD</code>)/2 as threshold.
If the proportion is below this obtained threshold it must set its opinion to <code>DISLIKE</code>, otherwise it must set its opinion to <code>LIKE</code>. In the case that the opinion did not change, the variable <code>cnt</code> must be incremented by 1, otherwise it must be set to 0. If a node did not receive enough answers, i.e., the proportion of mana of the received opinions is less than <code>MIN_MANA_PROPORTION</code> of the total mana of the queried nodes, the round is not counted, i.e., neither opinion nor <code>cnt</code> are changed. </li><li>This continues until <code>cnt</code>=<code>TOTAL_ROUNDS_FINALIZATION</code>-<code>TOTAL_ROUNDS_ENDING_THRESHOLD</code>. FPC then enters in the &quot;termination phase&quot; and continues for <code>TOTAL_ROUNDS_ENDING_THRESHOLD</code> rounds using the <code>ENDING_THRESHOLD</code> instead of the random threshold. If during this phase a node changes its opinion it must set <code>cnt</code>=0 and use the random threshold again. The node shall stop querying if <code>cnt</code>=<code>TOTAL_ROUNDS_ENDING_THRESHOLD</code> or <code>cnt</code>=<code>reachedMaxRound</code>. In case that <code>cnt</code>=<code>reachedMaxRound</code> a node must set the final opinion to <code>DISLIKE</code>. </li><li>Once FPC terminates (for the given <code>objectID</code>) a node must update the metadata <code>opinionField</code> of <code>objectID</code> with the outcome of FPC as <code>opinion</code> and <code>level=2</code>.</li><li>A node must continue to respond to queries as long as <code>AnswerStatus(type, objectID)=TRUE</code>, where <code>type</code> is the type of the <code>objectID</code>. If <code>AnswerStatus(type, objectID)=FALSE</code> the variable <code>answerStatus</code> must be updated accordingly.</li></ol><p>High consensus Mana nodes will be queried more often than nodes with low consensus Mana, since the sampling using consensus Mana as weights. Every node is given the possibility to publish their opinions in a statement on the Tangle. These messages are called FPC statements. Nodes who decide to issue FPC statements may close the port reserved for FPC queries. A close port can therefore be an indication that a node decided to disseminate its opinions through statements. Every node shall keep a list of nodes that are not answering direct queries but publish their opinions on the Tangle. If a node issues two or more conflicting FPC statements in a round, every other node shall not take these messages into account, i.e., they do not count for the Mana of received opinions neither are used for the calculation of the proportion.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fpc-protocol-operation-for-multiple-object-ids">FPC Protocol Operation for Multiple Object IDs<a class="hash-link" href="#fpc-protocol-operation-for-multiple-object-ids" title="Direct link to heading">‚Äã</a></h4><p>It is possible that there are more than one object to vote on. In this case, a node shall sample once per round and obtain the opinions for all objects from this one sample. Malicious or faulty nodes may not respond in a consistent way. In particular, in the case of a double-spending, a malicious node may respond <code>LIKE</code> for two or more conflicting objects. These malicious messages shall be filtered after having received the responses of the queries. Therefore, upon receival of the opinions, a node shall check for every sampled node if its answers are consistent, i.e., all liked objects must form a valid ledger state. Nodes that replied inconsistently shall be filtered out and their answer shall be considered as not received, i.e., they do not count for the Mana of received opinions neither are used for the calculation of the proportion. </p><p>Note that since consensus Mana changes over time, FPC may use different consensus Mana values for different <code>objectID</code>s that are voted on at the same time. For an <code>objectID</code>, FPC must use the active consensus Mana of epoch <code>Epoch X-2</code>, where <code>Epoch X</code> contains the timestamp of the <code>objectID</code>. We refer to <a href="/IOTA-2.0-Research-Specifications/5.3Mana">Section 5.3 -  Mana</a> for the specification of active consensus Mana. We use a generic function <code>GetActiveConsensusMana(time)</code> that retrieves the active consensus Mana with respect to a given timestamp <code>time</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6324-fpc-pseudocode-description">6.3.2.4 FPC Pseudocode Description<a class="hash-link" href="#6324-fpc-pseudocode-description" title="Direct link to heading">‚Äã</a></h3><p>The following presents some pseudo-code for a better understanding of the details of the FPC protocol. </p><p>The function <code>GetRN(a, b, time)</code> retrieves a uniform random number between a and b from the dRNG module of a given time <code>time</code>.
If the  dRNG is not retrieved in time a node must use (<code>SUBSEQUENT_LOWER_THRESHOLD</code> <code>SUBSEQUENT_UPPER_THRESHOLD</code>)/2 instead.</p><p>In each round a node must query a random sample of other nodes. The random sample is obtained using weighted (by active consensus Mana) sampling with replacement until <code>QUERY_SIZE</code> distinct elements are chosen, or until a maximum sample size of <code>MAX_SAMPLE_SIZE</code> is reached.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getsample"><code>GetSample</code><a class="hash-link" href="#getsample" title="Direct link to heading">‚Äã</a></h4><p>This function chooses a sample of nodeIDs for FPC queries.</p><div class="language-vbnet codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vbnet codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">FUNCTION queryList = GetSample(nodeList, manaList)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">queryList = []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WHILE (queryList does not contain QUERY_SIZE different elements)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    newSample = SAMPLE(nodeList, weight=manaList)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    queryList = APPEND(queryList, newSample)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN queryList</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The function <code>SAMPLE(nodeList, weight=manaList)</code> chooses a random element from <code>nodeList</code> with weights corresponding to their Mana, i.e., the probability that a <code>nodeID</code> is chosen is proportional to <code>manaList[nodeID]</code>. </p><p>Once the list <code>queryList</code> of nodes to query is chosen a node must obtain their opinions about the objects under voting. As there are two possibilities for nodes to communicate their opinions, via direct answers or via FPC statements, a node shall keep information on this behavior up to date. The message layout of the FPC statements is specified in <a href="/IOTA-2.0-Research-Specifications/2.3StandardPayloadsLayout#2.3.5.3-fpc-statement">Section 2.3 - Standard Payloads Layout</a>.</p><p>At the beginning of each round every node must prepare a query and send it to those nodes in <code>queryList</code> that replies directly (i.e., do not publish FPC statements). </p><p>The queries must follow the layout that follows. </p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="queryrequest">QueryRequest<a class="hash-link" href="#queryrequest" title="Direct link to heading">‚Äã</a></h4><table><tbody><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>Version</td><td>uint8</td><td>The message version. The schema specified in this RFC is for version <strong>1</strong> only. </td></tr><tr><td>Tx count</td><td>uint8</td><td>The number of TransactionIDs.</td></tr><tr><td colspan="1">TransactionIDs <code>Tx count</code></td><td colspan="2"><details open="" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="false"><summary>TransactionID, ordered by hash ASC</summary><div><div class="collapsibleContent_i85q"><table><tbody><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>TransactionID</td><td>ByteArray[32]</td><td>The ID of the transaction.</td></tr></tbody></table></div></div></details></td></tr><tr><td>Msg count</td><td>uint8</td><td>The number of MessageIDs.</td></tr><tr><td colspan="1">MessageIDs <code>Msg count</code></td><td colspan="2"><details open="" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="false"><summary>MessageID, ordered by hash ASC</summary><div><div class="collapsibleContent_i85q"><table><tbody><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>MessageID</td><td>ByteArray[32]</td><td>The ID of the message.</td></tr></tbody></table></div></div></details></td></tr></tbody></table><p>The respond to a QueryRequest must take follow the following form </p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="queryresponse">QueryResponse<a class="hash-link" href="#queryresponse" title="Direct link to heading">‚Äã</a></h4><table><tbody><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>Version</td><td>uint8</td><td>The message version. The schema specified in this RFC is for version <strong>1</strong> only. </td></tr><tr><td>Obj count</td><td>uint8</td><td>The number of objectIDs. Must equal to <code> Tx count + Msg count</code> of the received QueryRequest</td></tr><tr><td colspan="1">Opinions <code>Obj count</code></td><td colspan="2"><details open="" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="false"><summary>ObjectIDs, in the same order as in received QueryRequest</summary><div><div class="collapsibleContent_i85q"><table><tbody><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>Opinion</td><td>Byte    </td><td>The opinion on objectID.</td></tr></tbody></table></div></div></details></td></tr></tbody></table><p>In the case that a certain <code>objectID</code> is unknwon to the node, it must respond with <code>NULL</code>. If the <code>objectID</code> is currently treated by FPC a node must respond with the current opinion, otherwise, retrieve the <code>opinion</code> from the <code>opinionField</code> of the <code>objectID</code>. If the <code>opinionField</code> is <code>NULL</code> the node must respond with <code>NULL</code>.  </p><p>Note that since the order of the opinions in <code>QueryResponse</code> is important a node may have to produce different messages QueryResponse for different querying nodes.   QueryRequest and QueryResponse must be signed by the sending node. The communication channel for these messages is specified in the field &quot;services&quot; in the DiscoveryRequest<!-- -->. We write <code>respond[node, objectIDs]</code> for the respond, per direct QueryResponse or FPC statement, of the <code>node</code> on the <code>objectID</code>s.
A node shall only respond to queries if all included <code>objectsID</code> have status <code>answerQuery=TRUE</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getopinion"><code>GetOpinion</code><a class="hash-link" href="#getopinion" title="Direct link to heading">‚Äã</a></h4><p>This function sends queries to all nodes of <code>queryList</code> and obtains their opinion either through QueryResponse messages of from FPC statements on the Tangle. </p><div class="language-vbnet codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vbnet codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">FUNCTION opinionQuery = GetOpinion(objectIDs, queryList)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SEND QueryRequest messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WAIT UNTIL TIME_OUT  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FOR (node IN queryList)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF (node replied) </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        opinionQuery[node, objectIDs] = respond[node, objectIDs]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE IF (node publishes on Tangle)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        opinionQuery[node, objectIDs] = GetOpinionFromTangle[node, objectID]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE opinionQuery[node, objectIDs] = NA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN (opinionQuery)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A node must receive a sufficient amount of replies to validate a given round; otherwise the ongoing FPC round is skipped. More precisely, the consensus Mana of the received opinions must be larger than <code>MIN_MANA_PROPORTION</code> times the sum of the consensus Mana of the sampled nodes. </p><p>Once a node receives a FPC query it must prepare a response message as specified above, and shall sent the response as soon as possible. If a node decides to publish its opinions on the Tangle, it must create a so-called FPC statement message and issue it on the Tangle at the beginning of each round. </p><p>At the end of each round, i.e., after the <code>TIME_OUT</code> expires, a node must update its opinion if <code>CheckQuerySuccessful</code> is TRUE. The node must calculate the proportion of the <code>LIKE</code>s in the obtained opinions and compare it to a certain threshold. The value of the threshold depends on the phase FPC is in. In the first round, a node must use <code>FIRST_ROUND_THRESHOLD</code> as a threshold, while in the subsequent rounds the node must use a random threshold obtained by <code>GetRN()</code>. Moreover, if <code>cnt</code> &gt; <code>TOTAL_ROUNDS_FINALIZATION</code>-<code>TOTAL_ROUNDS_ENDING_THRESHOLD</code> the node must use <code>ENDING_THRESHOLD</code> for the threshold.
The following pseudo-code describes the update of the opinion of one given <code>objectID</code>. It uses <code>queryList</code> and <code>opinionQuery</code> obtained by the functions <code>GetSample</code> and <code>GetOpinion</code>. The variable <code>opinion</code> describes the current opinion on <code>objectID</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="opinionupdate"><code>OpinionUpdate</code><a class="hash-link" href="#opinionupdate" title="Direct link to heading">‚Äã</a></h4><p>This function updates the opinion of a node on <code>objectID</code>.</p><div class="language-vbnet codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vbnet codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">FUNCTION opinion = OpinionUpdate(objectID, opinion, queryList, opinionQuery, round)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">manaList = GetActiveConsensusMana(timeObjectID)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">answerMana = ownMana</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">queriedMana</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">etaStar = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FOR node in queryList</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    queriedMana += manaList[node]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF opinionQuery[node, objectID] != NA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        answerMana += manaList[node]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF  opinionQuery[node, objectID] = LIKE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            etaStar++</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">IF answerMana &lt;= MIN_MANA_PROPORTION * queriedMana</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    opinionNew = opinion # </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ELSE </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    eta = etaStar / LENGTH(queryList)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF opinion = LIKE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        eta = (ownMana + etaStar*(answerMana-ownMana))/answerMana    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE IF opinion = DISLIKE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         eta = (etaStar*(answerMana-ownMana))/answerMana </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    WAIT UNTIL CurrentTime/ROUND_LENGTH IS INTEGER</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF round = 1  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        threshold = FIRST_ROUND_THRESHOLD</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE IF round &lt;= TOTAL_ROUNDS_FINALIZATION-TOTAL_ROUNDS_ENDING_THRESHOLD </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        WAIT DRNG_WAITING_TIME</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        threshold = getRN(SUBSEQUENT_LOWER_THRESHOLD, SUBSEQUENT_UPPER_THRESHOLD, CurrentTime)  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        IF threshold = NIL</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            threshold = (SUBSEQUENT_LOWER_THRESHOLD + SUBSEQUENT_UPPER_THRESHOLD)/2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        threshold = ENDING_THRESHOLD</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF eta &lt; threshold</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        opinionNew = DISLIKE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        opinionNew = LIKE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN opinioNew</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mainfpc"><code>MainFPC</code><a class="hash-link" href="#mainfpc" title="Direct link to heading">‚Äã</a></h4><p>This function describes the FPC for one <code>objectID</code>. It is triggered once  <code>queryStatus</code> of an object is set to <code>TRUE</code>.</p><div class="language-vbnet codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vbnet codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">FUNCTION opinion = MainFPC(objectId, queryStatus)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">IF queryStatus = TRUE  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    opinion = GetInitialOpinion(objectID)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cnt = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WAIT UNTIL CurrentTime/ROUND_LENGTH IS INTEGER</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">round = 1 </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WHILE queryStatus = TRUE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    queryList = GetSample(nodeList, manaList)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    opinionQuery = GetOpinion(objectID, queryList) </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    opinionNew = OpinionUpdate(objectID, opinion, queryList, opinionQuery, round)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF opinion = opinionNew </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        cnt++</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        cnt=1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    opinion = opinionNew</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    round++</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF cnt = TOTAL_ROUNDS_FINALIZATION </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        queryStatus = FALSE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF round &gt;= MAX_ROUND </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        queryStatus = FALSE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        opinion = 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN opinion</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>6.3.3 Optimizations Suggestions</h1><p>The design given above exemplifies all the mandatory elements of the FPC protocol.</p><p>There are several possible ways to optimize the performance of FPC. For example:</p><ul><li>FPC possibly exposes the public IP adresses of all the IOTA nodes. This can be limited by publishing statements on Tangle. However, if all nodes decide to publish their statements this may have a negative effect on the scalability of the protocol. Please refer to <a href="https://link.springer.com/chapter/10.1007/978-3-030-63089-8_24" target="_blank" rel="noopener noreferrer">Fast Probabilistic Consensus with Weighted Votes</a> for more discussions on how to optimize the message overhead.</li><li>Monotonicity and  consistency rules may be applied to reduce the sizes of the messages.</li><li>The choice of the FPC parameters could be optimized. The optimal choice depends on the actual mana distribution and network latency.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/iotaledger/IOTA-2.0-Research-Specifications/edit/main/docusaurus/iota/external/iota-2.0-research-specifications/6.3 Fast Probabilistic Consensus.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/IOTA-2.0-Research-Specifications/6.2OpinionSetting"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">6.2 Opinion Setting</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/IOTA-2.0-Research-Specifications/6.4Finalization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">6.4 Approval Weight and Finality</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#631-introduction" class="table-of-contents__link toc-highlight">6.3.1 Introduction</a></li><li><a href="#632-fpc-protocol" class="table-of-contents__link toc-highlight">6.3.2 FPC Protocol</a><ul><li><a href="#6321-fpc-parameters" class="table-of-contents__link toc-highlight">6.3.2.1 FPC Parameters</a></li><li><a href="#6322-local-variables" class="table-of-contents__link toc-highlight">6.3.2.2 Local Variables</a></li><li><a href="#6323-fpc-protocol-description" class="table-of-contents__link toc-highlight">6.3.2.3 FPC Protocol Description</a></li><li><a href="#6324-fpc-pseudocode-description" class="table-of-contents__link toc-highlight">6.3.2.4 FPC Pseudocode Description</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Use</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/use/wallets/what-is-a-wallet">Wallets</a></li></ul></div><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/learn/about-iota/an-introduction-to-iota">How It Works</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/iota-token/buying-iota">IOTA Token</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/research/research-outline">Research</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/glossary">Glossary</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/faqs">FAQs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Develop</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/develop/nodes/about-nodes">Nodes</a></li><li class="footer__item"><a class="footer__link-item" href="/chronicle/welcome">Chronicle</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials">Tutorials</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/funding/edf-funding">Funding</a></li><li class="footer__item"><a class="footer__link-item" href="/community/the-community/how-to-support">The Community</a></li><li class="footer__item"><a class="footer__link-item" href="/community/research/research-outline">Research</a></li><li class="footer__item"><a class="footer__link-item" href="/community/contribute-to-wiki/welcome">Contribute To Wiki</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.iota.org" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/footer_logo.svg" alt="IOTA Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/footer_logo.svg" alt="IOTA Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">¬© 2022 IOTA Wiki. Built with Docusaurus.</div></div></div></footer><div class="social"><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:var(--ifm-color-gray-900)" href="https://www.youtube.com/c/iotafoundation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="social__icon"><path d="M42.758 9.004A6.013 6.013 0 0 1 47 13.246c1 3.742 1 11.555 1 11.555s0 7.812-1.004 11.554a6.013 6.013 0 0 1-4.242 4.243C39.012 41.602 24 41.602 24 41.602s-15.012 0-18.754-1.004a6.013 6.013 0 0 1-4.242-4.243C0 32.613 0 24.801 0 24.801s0-7.813 1.004-11.555a6.013 6.013 0 0 1 4.242-4.242C8.988 8 24 8 24 8s15.012 0 18.758 1.004ZM31.676 24.8 19.199 32V17.602Zm0 0" fill-rule="evenodd"></path></svg><div class="social__title">Youtube</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#2C3850" href="https://www.github.com/iotaledger/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="social__icon"><path d="M29.059 35.574c.597-.144 1.222-.277 1.84-.445 2.449-.672 4.699-1.742 6.542-3.582 1.868-1.871 2.891-4.164 3.106-6.828.207-2.5-.121-4.922-1.211-7.196a11.407 11.407 0 0 0-.816-1.402c-.293-.437-.633-.84-.938-1.238.832-2.145.93-4.293-.027-6.403-.508-1.113-.332-.937-1.473-.82-2.36.242-4.344 1.32-6.016 3.031a.385.385 0 0 1-.328.082c-2.222-.718-4.511-.875-6.82-.777-1.605.066-3.184.3-4.715.84-.082.027-.238-.043-.312-.117-1.442-1.504-3.149-2.516-5.172-2.934-.496-.105-1.012-.117-1.516-.183-.21-.024-.328.066-.437.238-.73 1.144-.989 2.414-.977 3.754.016 1.176.191 2.316.816 3.351-.046.059-.093.125-.148.184-1.773 1.96-2.73 4.293-2.988 6.945-.2 2.09-.02 4.125.797 6.07 1.039 2.477 2.82 4.231 5.097 5.497 1.668.925 3.457 1.496 5.313 1.859.105.02.21.047.34.074-.477.996-.52 2.04-.559 3.09 0 .098-.074.242-.152.277-2.176.989-5.508.059-6.895-1.914-.117-.168-.219-.347-.332-.515-.828-1.246-1.93-2.07-3.414-2.27a2.62 2.62 0 0 0-.918.07c-.441.106-.512.383-.21.743.124.144.257.293.417.394 1.176.793 1.906 1.95 2.457 3.235.352.82.77 1.578 1.395 2.207 1.37 1.379 3.043 2.023 4.933 2.05.895.012 1.79-.113 2.711-.18-.004-.027.012.012.012.048 0 1.078.02 2.16-.008 3.238-.015.723-.36 1.297-.941 1.7-.407.28-.844.323-1.317.155C8.165 45.07 2.16 38.04.473 29.477-1.81 17.895 4.332 6.203 15.012 1.793c12.375-5.11 26.394 1.07 31.312 13.805 4.094 10.593.485 22.765-8.672 29.261a24.093 24.093 0 0 1-5.812 3.032c-.664.242-1.219.07-1.695-.43-.422-.445-.614-.992-.61-1.621.004-2.27.012-4.543-.004-6.817a23.91 23.91 0 0 0-.148-2.363c-.043-.367-.211-.719-.324-1.086Zm0 0"></path></svg><div class="social__title">GitHub</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#4B576F" href="https://discord.iota.org/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="social__icon"><path d="M7.16 32.832c.863 1.098 1.953 1.938 3.063 2.762 1.629 1.203 3.418 2.113 5.308 2.82.32.121.406.203.16.508-.472.578-.906 1.195-1.351 1.797-.117.164-.246.265-.465.246-5.21-.473-9.824-2.258-13.504-6.125-.27-.281-.394-.535-.367-.973.277-4.316.953-8.562 2.082-12.734.941-3.485 2.195-6.84 3.941-10.012.535-.973 1.418-1.45 2.282-1.976 2.332-1.418 4.832-2.434 7.52-2.946a12.73 12.73 0 0 1 1.01-.148c.579-.063.958.25 1.048.836.047.297-.219.226-.336.254-1.192.293-2.36.664-3.492 1.144-2.215.938-4.192 2.246-5.973 3.914 10.59-5.46 21.16-5.48 31.723.031.066-.238-.153-.289-.262-.39-2.5-2.274-5.445-3.711-8.692-4.567-.015-.003-.03-.003-.046-.007-.813-.207-.895-.496-.356-1.16.133-.16.262-.094.414-.083 2.063.16 4 .782 5.88 1.61 1.187.523 2.308 1.168 3.429 1.824.984.574 1.636 1.375 2.152 2.371 1.793 3.477 3.055 7.137 3.965 10.93a65.288 65.288 0 0 1 1.555 9.672c.05.578.02 1.164.14 1.73.063.278-.148.403-.289.559-2.691 2.937-6.058 4.695-9.879 5.656-1.226.305-2.472.46-3.722.59-.246.023-.371-.106-.5-.281-.43-.59-.856-1.192-1.32-1.758-.235-.29-.192-.383.148-.512 2.234-.832 4.308-1.957 6.168-3.465.789-.644 1.586-1.289 2.207-2.113.043-.031.144-.035.094-.11-.04-.058-.11-.015-.149.044-1.105.671-2.176 1.39-3.336 1.972-2.875 1.438-5.918 2.297-9.101 2.672-1.625.188-3.254.313-4.887.273-4.79-.113-9.39-1.003-13.629-3.355-.875-.488-1.715-1.039-2.57-1.562a2.344 2.344 0 0 1-.118-.09c-.035-.024-.07-.051-.105-.07-.004-.005-.031.03-.047.046.043.02.082.035.121.055l.086.121Zm20.09-7.16c-.02.715.168 1.387.45 2.031 1.093 2.512 4.116 3.102 5.964 1.168 1.793-1.875 1.598-5.172-.402-6.808a3.465 3.465 0 0 0-4.38.015c-1.128.934-1.589 2.168-1.632 3.594Zm-10.336-4.379c-.695-.031-1.316.172-1.887.543-2.293 1.48-2.64 5.086-.687 7.078 1.445 1.473 3.598 1.484 5.055.027 1.363-1.367 1.722-3.613.832-5.398-.68-1.367-1.739-2.195-3.313-2.25Zm0 0"></path></svg><div class="social__title">Discord</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#6A768E" href="https://www.twitter.com/iota/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="social__icon"><path d="M42.691 14.664c.032.383.032.762.032 1.145 0 11.597-9.356 24.964-26.45 24.964-5.265 0-10.156-1.441-14.273-3.941.75.082 1.469.11 2.246.11 4.344 0 8.344-1.387 11.54-3.75-4.087-.079-7.513-2.606-8.692-6.083a12.91 12.91 0 0 0 1.754.133c.836 0 1.672-.105 2.449-.297-4.262-.816-7.457-4.347-7.457-8.613v-.105a9.858 9.858 0 0 0 4.203 1.113c-2.504-1.578-4.145-4.266-4.145-7.309a8.36 8.36 0 0 1 1.266-4.43c4.578 5.325 11.457 8.805 19.168 9.184a9.343 9.343 0 0 1-.23-2.012C24.102 9.938 28.246 6 33.398 6c2.676 0 5.094 1.059 6.79 2.77a18.983 18.983 0 0 0 5.902-2.118c-.692 2.04-2.16 3.75-4.086 4.836a19.553 19.553 0 0 0 5.351-1.36 19.283 19.283 0 0 1-4.664 4.536Zm0 0"></path></svg><div class="social__title">Twitter</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#7D89A1" href="https://www.reddit.com/r/iota/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="social__icon"><path d="M41.52 18.086a4.98 4.98 0 0 0-3.551 1.492c-3.348-2.316-7.86-3.808-12.856-3.969L27.711 3.91l8.27 1.856a3.68 3.68 0 0 0 3.675 3.675c2.063 0 3.719-1.695 3.719-3.722A3.728 3.728 0 0 0 39.656 2c-1.445 0-2.691.871-3.312 2.063l-9.13-2.028c-.46-.12-.91.207-1.03.668l-2.852 12.899c-4.957.207-9.422 1.695-12.777 4.011a4.993 4.993 0 0 0-3.602-1.527c-5.21 0-6.918 6.992-2.144 9.383a10.574 10.574 0 0 0-.247 2.316c0 7.856 8.852 14.223 19.72 14.223 10.91 0 19.761-6.367 19.761-14.223 0-.785-.086-1.613-.293-2.351 4.68-2.403 2.953-9.348-2.23-9.348Zm-29.145 9.883a3.706 3.706 0 0 1 3.719-3.723c2.027 0 3.676 1.649 3.676 3.723a3.678 3.678 0 0 1-3.676 3.672c-2.063.011-3.719-1.649-3.719-3.672Zm20.09 8.765c-3.414 3.41-13.043 3.41-16.453 0-.375-.328-.375-.91 0-1.285a.902.902 0 0 1 1.238 0c2.605 2.672 11.25 2.719 13.969 0a.897.897 0 0 1 1.234 0c.387.375.387.957.012 1.285Zm-.074-5.082a3.682 3.682 0 0 1-3.676-3.675c0-2.063 1.648-3.723 3.676-3.723a3.706 3.706 0 0 1 3.718 3.723c-.007 2.015-1.656 3.675-3.718 3.675Zm0 0"></path></svg><div class="social__title">Reddit</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#8995AD" href="https://www.linkedin.com/company/iotafoundation/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="social__icon"><path d="M33.352 41.984v-.539c0-3.89.02-7.78-.012-11.672-.008-.984-.09-1.98-.274-2.945-.355-1.89-1.414-2.777-3.261-2.867-1.192-.055-2.301.187-3.16 1.125-.73.797-1.047 1.8-1.157 2.871a25.416 25.416 0 0 0-.125 2.441c-.011 3.704-.004 7.407-.004 11.11V42h-7.117V17.977h6.836v3.191c.027.008.055.012.082.02.059-.079.125-.149.176-.231 1.23-2.05 3.055-3.145 5.3-3.492 1.614-.25 3.212-.102 4.774.41 2.246.734 3.613 2.367 4.336 4.656.527 1.668.719 3.395.73 5.137.028 4.695.02 9.387.024 14.078 0 .066-.008.133-.016.238h-7.132ZM6.605 17.98H13.7v24.016H6.605V17.98Zm7.668-7.66c.004 2.407-1.84 4.34-4.136 4.34-2.293 0-4.145-1.945-4.137-4.344C6.008 7.93 7.84 6.008 10.121 6c2.297-.008 4.149 1.918 4.152 4.32Zm0 0"></path></svg><div class="social__title">LinkedIn</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#99A5BD" href="https://www.instagram.com/iotafoundation/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="social__icon"><path d="M15.559 0h17c.66.059 1.32.125 1.976.168 3.387.227 6.524 1.094 9.113 3.437 2.922 2.641 4.196 6.063 4.262 9.864.125 7.047.11 14.094.004 21.14-.05 3.356-1.078 6.461-3.406 9.02-2.625 2.894-6.02 4.184-9.797 4.25-7.102.125-14.211.2-21.309-.012-7.48-.215-12.25-4.832-13.12-12.23C.16 34.609.093 33.574 0 32.543V15.551c.059-.684.137-1.371.168-2.055C.535 5.984 5.016 1.164 12.473.281 13.496.156 14.527.094 15.559 0Zm8.55 4.492c-3.367 0-6.734-.066-10.097.024-2.64.07-5.13.71-7.051 2.742-1.828 1.93-2.395 4.328-2.453 6.847-.11 4.965-.153 9.93-.145 14.899 0 2.21.074 4.433.313 6.633.441 4.07 2.855 6.75 6.703 7.597a15.9 15.9 0 0 0 3.098.368c4.726.078 9.453.144 14.183.136 2.32-.004 4.652-.07 6.957-.316 4.5-.484 7.348-3.344 7.832-7.848.239-2.195.309-4.422.309-6.633.004-4.964.004-9.933-.156-14.898-.196-6.094-3.454-9.32-9.559-9.531-3.309-.114-6.621-.02-9.934-.02Zm0 0"></path><path d="M11.707 24.047c0-6.863 5.508-12.356 12.39-12.348 6.817.008 12.313 5.516 12.313 12.348 0 6.863-5.508 12.351-12.39 12.348-6.817-.012-12.313-5.52-12.313-12.348Zm12.39 8.012c4.4-.02 7.985-3.633 7.977-8.032-.008-4.398-3.617-7.992-8.015-7.996-4.43 0-8.047 3.64-8.02 8.07.031 4.395 3.656 7.973 8.059 7.958ZM39.79 11.191a2.881 2.881 0 0 1-2.892 2.91 2.897 2.897 0 0 1-2.89-2.914 2.881 2.881 0 0 1 2.855-2.863c1.625-.015 2.918 1.25 2.926 2.867Zm0 0"></path></svg><div class="social__title">Instagram</div></a></div></div>
<script src="/assets/js/runtime~main.000c6006.js"></script>
<script src="/assets/js/main.111cab16.js"></script>
</body>
</html>